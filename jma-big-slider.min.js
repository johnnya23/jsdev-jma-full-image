jQuery(document).ready(function(i){function e(){$jma_header_image=i(".jma-header-image"),window_width=$window.width(),window_height=$window.height(),admin_bar_scroll_height=admin_bar_height=0,i("#wpadminbar").length&&(admin_bar_scroll_height=admin_bar_height=i("#wpadminbar").height(),"fixed"!=i("#wpadminbar").css("position")&&(admin_bar_scroll_height=0)),available_top_height=0,$top.find("#branding > .wrap").children().each(function(){if($this=i(this),!$this.is("ul")){if($this.hasClass("fix-menu"))return available_top_height=$this.outerHeight(),!1;available_top_height+=$this.outerHeight()}}),top_height=$top.height(),image_width=$jma_header_image.data("image_width"),image_height=$jma_header_image.data("image_height"),image_ratio=image_height/image_width,scroll_top_height="fixed"!=i("#access").css("position")?admin_bar_scroll_height:admin_bar_scroll_height+i("#access").height(),main_showing_by=100,classes=$body.attr("class").split(" ");var e;for(e=0;e<classes.length;++e)classes[e].match("^jmashowamount")&&(get_main_showing_by=classes[e].replace("jmashowamount",""));main_showing_by=20==i("#dont-edit-this-element").css("z-index")?parseInt(get_main_showing_by,10):window_height-(top_height+admin_bar_height+window_width*image_ratio),available_height=$body.hasClass("constrict-header")?window_height:window_height-available_top_height-admin_bar_height-main_showing_by,offset=$window.scrollTop(),$body.attr("data-available_height",available_height),$jma_local_menu=i(".jma-local-menu"),offset_top=window_height-scroll_top_height-main_showing_by,margin_top=$body.hasClass("constrict-header")?admin_bar_height:admin_bar_height+available_top_height,offset>offset_top?($jma_local_menu.addClass("fix-local"),$jma_local_menu.css("margin-top",scroll_top_height+"px")):($jma_local_menu.removeClass("fix-local"),$jma_local_menu.css("margin-top","")),20==i("#dont-edit-this-element").css("z-index")?($body.addClass("big_slider_wide"),$body.removeClass("big_slider_narrow"),$jma_header_image=i(".jma-header-image"),$image_elements=i(".jma-header-item.image.logo.image.jma-header-content.header-content, .jma-header-item.image.jma-header-content.sidebar.header-content"),available_ratio=available_height/window_width,$body.hasClass("center-vert")?$site_main.css({"margin-top":(window_height-$site_main.height())/2+$top.height()/2+"px"}):$site_main.css({"margin-top":window_height-admin_bar_height-main_showing_by-1+"px"}),$top.css("top",admin_bar_height+"px"),$jma_header_image.css({top:margin_top+"px",height:available_height+"px"}),$image_elements.css({top:margin_top+"px"}),image_ratio<available_ratio?i(".jma-header-image-wrap").css({width:available_height*(1/image_ratio)+"px","max-width":available_height*(1/image_ratio)+"px"}):i(".jma-header-image-wrap").css({width:window_width+"px","max-width":""})):($body.removeClass("big_slider_wide"),$body.addClass("big_slider_narrow"),i(".image.jma-header-content").css("height",""),$site_main.css("margin-top",""),$top.css("top",""),i("html").css("background",""),$image_elements.css({top:""}),$jma_header_image.css({top:"",height:""}),i(".jma-header-image-wrap").css({width:"","max-width":""}))}function a(){window_width=$window.width(),"5px"==i(".copyright").css("margin-bottom")?$jma_header_image.find(".nivo-directionNav").css({width:window_width+"px"}):$jma_header_image.find(".nivo-directionNav").css("width","")}function t(i){a()}$site_main=i(".site-main"),$site_main.on("click",".jma-local-menu > li > a",function(e){e.preventDefault(),i("html, body").animate({scrollTop:i(this.hash).offset().top-180},500)}),$window=i(window),$body=i("body"),$top=i("#top"),$jma_header_image=i(".jma-header-image"),$window.scroll(function(){e()}),$window.load(function(){e()}),new MutationObserver(function(e,a){var h=i(".nivo-directionNav").length;if(h)return t(h),void a.disconnect()}).observe(document,{childList:!0,subtree:!0}),$window.bind("bigslresizeEnd",function(){e()}),$window.resize(function(){this.bigslresizeTO&&clearTimeout(this.bigslresizeTO),this.bigslresizeTO=setTimeout(function(){i(this).trigger("bigslresizeEnd")},1e3)}),$window.resize(function(){e(),a()})});